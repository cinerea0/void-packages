# Template file for 'gifski'
pkgname=gifski
version=1.32.0
revision=1
build_style=cargo
configure_args="--features video"
hostmakedepends="clang17 pkg-config"
makedepends="ffmpeg-devel"
short_desc="Highest-quality GIF encoder based on pngquant"
maintainer="Benjamín Albiñana <benalb@gmail.com>"
license="AGPL-3.0-only"
homepage="https://gif.ski"
changelog="https://github.com/ImageOptim/gifski/releases"
distfiles="https://github.com/ImageOptim/gifski/archive/refs/tags/${version}.tar.gz"
checksum=9a9145c31936f6e6e3b30e7feb8a741bcc02e8bcec6fd480d03c25ffa55f372c

pre_build() {
	# https://github.com/ImageOptim/gifski/issues/300#issuecomment-1553003435
	rm -rf .cargo
}

post_install() {
	vlicense LICENSE
}
